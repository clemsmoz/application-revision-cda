{
  "id": "bloc1-nodejs-express",
  "bloc": "bloc1",
  "title": "Node.js & Express",
  "icon": "üü¢",
  "color": "#339933",
  "description": "Node.js permet d'ex√©cuter du JavaScript c√¥t√© serveur. Express est un framework minimaliste pour cr√©er des API et applications web avec Node.js.",
  "sections": [
    {
      "id": "nodejs-intro",
      "title": "Introduction √† Node.js",
      "content": [
        {
          "type": "paragraph",
          "text": "Node.js est un environnement d'ex√©cution JavaScript bas√© sur le moteur V8 de Chrome. Il permet d'utiliser JavaScript pour le d√©veloppement back-end avec une architecture non-bloquante et √©v√©nementielle."
        },
        {
          "type": "table",
          "headers": [
            "Concept",
            "Description"
          ],
          "rows": [
            [
              "Event Loop",
              "Boucle √©v√©nementielle pour g√©rer les op√©rations asynchrones"
            ],
            [
              "npm",
              "Gestionnaire de paquets pour installer des biblioth√®ques"
            ],
            [
              "Modules",
              "Syst√®me de modules CommonJS (require) ou ES6 (import)"
            ],
            [
              "Non-bloquant",
              "Les op√©rations I/O ne bloquent pas l'ex√©cution"
            ]
          ]
        },
        {
          "type": "code",
          "language": "javascript",
          "code": "// server HTTP basique avec Node.js\nconst http = require('http');\n\nconst server = http.createServer((req, res) => {\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\n  res.end('Hello from Node.js!');\n});\n\nserver.listen(3000, () => {\n  console.log('server d√©marr√© sur le port 3000');\n});"
        }
      ]
    },
    {
      "id": "express-intro",
      "title": "Framework Express",
      "content": [
        {
          "type": "paragraph",
          "text": "Express est un framework web minimaliste et flexible pour Node.js. Il simplifie la cr√©ation de serveurs HTTP, d'API REST et d'applications web."
        },
        {
          "type": "code",
          "language": "javascript",
          "code": "const express = require('express');\nconst app = express();\n\n// Middleware for parser le JSON\napp.use(express.json());\n\n// Routes\napp.get('/', (req, res) => {\n  res.json({ message: 'Welcome sur l\\'API' });\n});\n\napp.get('/users/:id', (req, res) => {\n  const userId = req.params.id;\n  res.json({ id: userId, name: 'User ' + userId });\n});\n\napp.post('/users', (req, res) => {\n  const { name, email } = req.body;\n  res.status(201).json({ id: 1, name, email });\n});\n\napp.listen(3000, () => {\n  console.log('server Express d√©marr√© sur le port 3000');\n});"
        }
      ]
    },
    {
      "id": "middleware",
      "title": "Middleware Express",
      "content": [
        {
          "type": "paragraph",
          "text": "Les middleware sont des fonctions qui ont acc√®s aux objets request (req) et response (res). Ils peuvent modifier ces objets, terminer la requ√™te ou passer au middleware suivant."
        },
        {
          "type": "table",
          "headers": [
            "Type",
            "Exemple",
            "Usage"
          ],
          "rows": [
            [
              "Application",
              "app.use(express.json())",
              "Appliqu√© √† toutes les routes"
            ],
            [
              "Route",
              "app.get('/path', middleware, handler)",
              "Appliqu√© √† une route sp√©cifique"
            ],
            [
              "Erreur",
              "app.use((err, req, res, next) => {})",
              "Gestion centralis√©e des erreurs"
            ],
            [
              "Tiers",
              "cors, helmet, morgan",
              "Biblioth√®ques externes"
            ]
          ]
        },
        {
          "type": "code",
          "language": "javascript",
          "code": "// Middleware personnalis√©\nconst logger = (req, res, next) => {\n  console.log(`${req.method} ${req.url}`);\n  next(); // Passer au middleware suivant\n};\n\napp.use(logger);\n\n// Middleware d'authentification\nconst auth = (req, res, next) => {\n  const token = req.headers.authorization;\n  if (!token) {\n    return res.status(401).json({ error: 'Unauthorized' });\n  }\n  next();\n};\n\napp.get('/protected', auth, (req, res) => {\n  res.json({ message: 'Access granted' });\n});"
        }
      ]
    },
    {
      "id": "rest-api",
      "title": "API REST avec Express",
      "content": [
        {
          "type": "table",
          "headers": [
            "M√©thode HTTP",
            "Route",
            "Action"
          ],
          "rows": [
            [
              "GET",
              "/users",
              "Lister tous les users"
            ],
            [
              "GET",
              "/users/:id",
              "R√©cup√©rer un user"
            ],
            [
              "POST",
              "/users",
              "Cr√©er un user"
            ],
            [
              "PUT",
              "/users/:id",
              "Mettre √† day un user"
            ],
            [
              "DELETE",
              "/users/:id",
              "Supprimer un user"
            ]
          ]
        }
      ]
    }
  ],
  "keyPoints": [
    "Node.js permet d'ex√©cuter JavaScript c√¥t√© serveur avec une architecture non-bloquante.",
    "Express est un framework minimaliste pour cr√©er des API et applications web.",
    "Les middleware sont des fonctions qui traitent les requ√™tes avant les routes.",
    "API REST : GET (lire), POST (cr√©er), PUT (modifier), DELETE (supprimer).",
    "npm est le gestionnaire de paquets pour installer des biblioth√®ques."
  ],
  "resources": [
    {
      "type": "doc",
      "title": "Node.js Documentation",
      "url": "https://nodejs.org/"
    },
    {
      "type": "doc",
      "title": "Express Documentation",
      "url": "https://expressjs.com/"
    }
  ]
}